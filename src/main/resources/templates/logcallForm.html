<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Log Call | Calls Logger</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!--  SweetAlert  -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" id="theme-styles">
</head>
<body>
<div class="container">
    <div>
        <h2>Log a Call</h2>
    </div>

    <hr/>

    <div>
        <div class="alert alert-success alert-dismissible fade show m-4" th:if="${!#strings.isEmpty(message) }" th:text="${message}" >
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="alert alert-danger alert-dismissible fade show m-4" th:if="${!#strings.isEmpty(error) }" th:text="${error}">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <form class="form" id="logCallsForm" onsubmit="submitForm()" method="post" th:object="${logCall}" th:action="@{/logcalls}">
            <input type="search" id="id" th:field="${logCall.id}" hidden="hidden">

            <div class="form-group">
                <label for="location"><strong>Location</strong></label>
                <input type="search" id="location" th:field="${logCall.location}" placeholder="Search location" required>
            </div>

            <div class="form-group">
                <label for="street"><strong>Street Address</strong></label>
                <input type="text" id="street" th:field="${logCall.street}" placeholder="House number, street name" required>
            </div>

            <div class="form-group">
                <label for="city"><strong>City</strong></label>
                <input type="text" id="city" th:field="${logCall.city}" placeholder="City" required>
            </div>

            <div class="form-group">
                <label for="province"><strong>Province</strong></label>
                <select id="province" th:field="${logCall.province}" placeholder="Province" required>
                    <option value="Limpopo">Limpopo</option>
                    <option value="Mpumalanga">Mpumalanga</option>
                    <option value="North West">North West</option>
                    <option value="Northern Cape">Northern Cape</option>
                    <option value="Western Cape">Western Cape</option>
                    <option value="Gauteng">Gauteng</option>
                    <option value="Free State">Free State</option>
                    <option value="Eastern Cape">Eastern Cape</option>
                    <option value="Kwazulu Natal">Kwazulu Natal</option>
                </select>
            </div>

            <div class="form-group">
                <label for="zipCode"><strong>Zip code</strong></label>
                <input type="text" id="zipCode" th:field="${logCall.zipCode}" placeholder="Zip code" required>
            </div>

            <br>
            <hr>

            <div class="form-group">
                <label for="description"><strong>Description</strong></label>
                <textarea id="description" th:field="${logCall.description}" placeholder="Describe the problem" required></textarea>
            </div>


            <div class="form-group">
                <button type="submit"><span>Submit</span></button>
            </div>
        </form>
    </div>
</div>
</body>
</html>