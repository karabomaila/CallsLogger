<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Log Call | Calls Logger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!--  SweetAlert  -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" id="theme-styles">
</head>
<body>
<div class="container">
    <div>
        <h2>Log a Call</h2>
    </div>

    <hr/>

    <div>
        <div class="alert alert-success alert-dismissible fade show m-4" th:if="${!#strings.isEmpty(message) }" th:text="${message}" >
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="alert alert-danger alert-dismissible fade show m-4" th:if="${!#strings.isEmpty(error) }" th:text="${error}">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <form class="form" id="logCallsForm" onsubmit="submitForm()" method="post" th:object="${logCall}" th:action="@{/logcalls}">
            <input id="id" th:field="${logCall.id}" hidden="hidden">

            <div class="row mb-3">
                <label for="location" class="col-sm-3 col-form-label">Location</label>
                <div class="col-sm-9">
                    <input type="search" class="form-control" id="location" th:field="${logCall.location}" placeholder="Search location" required>
                </div>
            </div>

            <div class="row mb-3">
                <label for="street" class="col-sm-3 col-form-label">Street Address</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="street" th:field="${logCall.street}" placeholder="House number, street name" required>
                </div>
            </div>

            <div class="row mb-3">
                <label for="city" class="col-sm-3 col-form-label">City</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="city" th:field="${logCall.city}" placeholder="City" required>
                </div>
            </div>

            <div class="row mb-3">
                <label for="province" class="col-sm-3 col-form-label">Province</label>
                <div class="col-sm-9">
                    <select id="province" class="form-control form-select" th:field="${logCall.province}" required>
                        <option value="Limpopo">Limpopo</option>
                        <option value="Mpumalanga">Mpumalanga</option>
                        <option value="North West">North West</option>
                        <option value="Northern Cape">Northern Cape</option>
                        <option value="Western Cape">Western Cape</option>
                        <option value="Gauteng">Gauteng</option>
                        <option value="Free State">Free State</option>
                        <option value="Eastern Cape">Eastern Cape</option>
                        <option value="Kwazulu Natal">Kwazulu Natal</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <label for="zipCode" class="col-sm-3 col-form-label">Zip code</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="zipCode" th:field="${logCall.zipCode}" placeholder="Zip code" required>
                </div>
            </div>

            <br>
            <hr>

            <div class="row mb-3">
                <label for="description" class="col-sm-3 col-form-label">Description</label>
                <div class="col-sm-9">
                    <textarea id="description" class="form-control" th:field="${logCall.description}" placeholder="Describe the problem" required></textarea>
                </div>
            </div>


            <div class="form-group">
                <button type="submit" class="col-sm-2 btn btn-primary"><span>Submit</span></button>
            </div>
        </form>
    </div>
</div>
</body>
</html>